{# App/views/pages/admin.html.twig #}

{% extends "layout.html.twig" %}

{% block content %}
    {% if session.id %} 
         <h2 class="d-flex justify-content-center">Entrer une nouvel évènement, {{ session.user }} :</h2>

        {% if flash.success %}
            <div class="alert alert-success">
                {{ flash.success }}
            </div>
        {% endif %}
        {% if flash.error %}
            <div class="alert alert-danger">
                {{ flash.error}}
            </div>
        {% endif %}

        <form action="{{ path_for('admin') }}" method="post">
            {{ csrf() }}
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="name">Nom : </label>
                    <input type="text" class="form-control {% if flash.errors.name %} is-invalid {% endif %}" id="name"  name="name" placeholder="" value="{{ old.name}}" required>
                </div>
                {% if flash.errors.name %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.name }}
                    </div>
                {% endif %}
                <div class="form-group col-md-6">
                    <label for="organizer">Organisateur : </label>
                    <input type="text" class="form-control {% if flash.errors.organizer %} is-invalid {% endif %}" id="organizer"  name="organizer" placeholder="" value="{{ old.organizer}}" required>
                </div>
                {% if flash.errors.organizer %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.organizer }}
                    </div>
                {% endif %}
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="date">Date : </label>
                    <input type="date" class="form-control {% if flash.errors.date %} is-invalid {% endif %}" id="date" name="date" placeholder="" value="{{ old.date}}" min="2019-01-01" max="2100-12-31" required>
                </div>
                {% if flash.errors.date %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.date }}
                    </div>
                {% endif %}
                <div class="form-group col-md-6">
                    <label for="hour">Heure : </label>
                    <input type="time" class="form-control {% if flash.errors.hour %} is-invalid {% endif %}" id="hour"  name="hour" placeholder="" value="{{ old.hour}}" min="00:00" max="23:59" required>
                </div>
            </div>
                {% if flash.errors.hour %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.hour }}
                    </div>
                {% endif %}
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="place">Lieu : </label>
                    <input type="text" class="form-control {% if flash.errors.place %} is-invalid {% endif %}" id="place" name="place" placeholder="" value="{{ old.place}}" required>
                </div>
                {% if flash.errors.place %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.place }}
                    </div>
                {% endif %}
                <div class="form-group col-md-6">
                    <label for="price">Tarif : </label>
                    <input type="text" class="form-control {% if flash.errors.price %} is-invalid {% endif %}" id="price" name="price" placeholder="" value="{{ old.price}}" >
                     {% if flash.errors.price %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.price }}
                    </div>
                {% endif %}
                </div>
            </div>
            <div class="form-group">
                <label for="description">Description : </label>
                <textarea type="text" class="form-control {% if flash.errors.description %} is-invalid {% endif %}" id="description" name="description" placeholder="" required>{{ old.description}}</textarea>
                {% if flash.errors.description %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.description }}
                    </div>
                {% endif %}
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="start_view_date">Date de début d'affichage : </label>
                    <input type="date" class="form-control {% if flash.errors.start_view_date %} is-invalid {% endif %}" id="start_view_date" name="start_view_date" value="{{ old.start_view_date}}" placeholder="" min="2019-01-01" max="2100-12-31" required>
                    {% if flash.errors.start_view_date %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.start_view_date }}
                    </div>
                {% endif %}
                </div>
                <div class="form-group col-md-6">
                    <label for="start_view_hour">Heure de début d'affichage : </label>
                    <input type="time" class="form-control {% if flash.errors.start_view_hour %} is-invalid {% endif %}" id="start_view_hour" name="start_view_hour" value="{{ old.start_view_hour}}" placeholder="" min="00:00" max="23:59" required>
                    {% if flash.errors.start_view_hour %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.start_view_hour }}
                    </div>
                {% endif %}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="end_view_date">Date de fin d'affichage : </label>
                    <input type="date" class="form-control {% if flash.errors.end_view_date %} is-invalid {% endif %}" id="end_view_date" name="end_view_date" value="{{ old.end_view_date}}" placeholder="" min="2019-01-01" max="2100-12-31" required>
                    {% if flash.errors.end_view_date %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.end_view_date }}
                    </div>
                {% endif %}
                </div>
                <div class="form-group col-md-6">
                    <label for="end_view_hour">Heure de début d'affichage : </label>
                    <input type="time" class="form-control {% if flash.errors.end_view_hour %} is-invalid {% endif %}" id="end_view_hour" name="end_view_hour" value="{{ old.end_view_hour}}" placeholder="" min="00:00" max="23:59" required>
                    {% if flash.errors.end_view_hour %} 
                    <div class="invalid-feedback">
                        {{ flash.errors.end_view_hour }}
                    </div>
                {% endif %}
                </div>
            </div>
            <div class="form-group">
                <label for="status">Statut : </label>
                <select type="text" class="form-control" id="status" name="status" placeholder="" required>
                    <option value="0">Brouillon</option>
                    <option value="1">Publié</option>
                    <option value="2">Archivé</option>
                </select>
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-primary" value="Envoyer" >
            </div>
        </form>
    {% else %}
        <p> vous n'avez pas l'autorisation d'accèder à cette page <p>
    {% endif %}
{% endblock %}
